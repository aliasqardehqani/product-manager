# car_data.py
CAR_CHOICES = [
    ("arisan", "آریسان", "irankhodro"),
    ("dongfeng-electric", "دانگ فنگ برقی", "dongfeng"),
    ("renault-tondar", "رنو تندر", "renault"),
    ("dongfeng-h30", "دانگ فنگ H30", "dongfeng"),
    ("tara-auto", "تارا با گیربکس اتوماتیک", "irankhodro"),
    ("suzuki", "سوزوکی", "suzuki"),
    ("dongfeng-s30", "S30 دانگ فنگ", "dongfeng"),
    ("renault-captur", "رنو کپچر", "renault"),
    ("haima-7x", "هایما 7X", "haima"),
    ("haima-s7-plus", "هایما S7 پلاس", "haima"),
    ("faw-nat", "خودرو برقی FAW NAT", "faw"),
    ("soren-plus", "سورن پلاس", "irankhodro"),
    ("haima-s7", "هایما S7", "haima"),
    ("peugeot-207", "پژو207", "peugeot"),
    ("dena", "دنا", "irankhodro"),
    ("tara", "تارا", "irankhodro"),
    ("gre-luna", "GRE-لونا", "gre"),
    ("samand", "سمند", "irankhodro"),
    ("dongfeng-g35-petrol", "دانگ فنگ شاین مکس (G35) بنزینی", "dongfeng"),
    ("dongfeng-g35-hybrid", "دانگ فنگ شاین مکس (G35) هیبریدی", "dongfeng"),
    ("rana-plus-panorama", "رانا پلاس پاناروما", "irankhodro"),
    ("haima-8s", "هایما 8S", "haima"),
    ("peugeot-pars", "پژو پارس", "peugeot"),
    ("unknown", "خودروهای غیر رایج", "unknown"),
    ("chery", "چری (CHERY)", "chery"),
    ("haima-s5-pro", "هایما S5 PRO", "haima"),
    ("rira", "ریرا", "rira"),
    ("peugeot-407", "پژو 407", "peugeot"),
    ("peugeot-206", "پژو 206", "peugeot"),
    ("peugeot-301", "پژو 301", "peugeot"),
    ("rana", "رانا", "irankhodro"),
    ("peugeot-405", "پژو 405", "peugeot"),
    ("dena-plus", "دنا پلاس", "irankhodro"),
    ("peykan", "پیکان", "irankhodro"),
    ("peugeot-2008", "پژو 2008", "peugeot"),
    ("peugeot-508", "پژو 508", "peugeot"),
    ("haima-s5", "هایما S5", "haima"),
    ("rd", "RD", "unknown"),
]

# ساخت دیکشنری به صورت ایمن با بررسی طول هر آیتم
CAR_MAP = {}
for idx, item in enumerate(CAR_CHOICES):
    if len(item) == 3:
        en, fa, brand_en = item
        CAR_MAP[fa] = (en, fa, brand_en)

    else:
        print(f"Warning: skipping invalid CAR_CHOICES item at index {idx}: {item}")

# تست چاپ کردن چند مقدار
print("Sample CAR_MAP entries:")
for k, v in list(CAR_MAP.items())[:5]:
    print(f"{k}: {v}")

BRAND_DISPLAY_NAMES = {
    "peugeot": "پژو",
    "irankhodro": "ایران خودرو",
    "dongfeng": "دانگ فنگ",
    "renault": "رنو",
    "suzuki": "سوزوکی",
    "haima": "هایما",
    "faw": "FAW",
    "gre": "GRE",
    "chery": "چری",
    "rira": "ریرا",
    "unknown": "نامشخص",
}

CATEGORY_KEYWORDS = {
    # موتور و بخش‌های داخلی
    "موتور": ["موتور", "engine"],
    "بلوک موتور": ["بلوک موتور"],
    "سرسیلندر": ["سرسیلندر"],
    "میل‌لنگ": ["میل‌لنگ"],
    "میل‌سوپاپ": ["میل سوپاپ", "camshaft"],
    "پیستون": ["پیستون"],
    "رینگ‌پیستون": ["رینگ پیستون"],
    "سوپاپ": ["سوپاپ"],
    "میل تایمینگ": ["تایمینگ", "belt", "chain"],
    "توربو": ["توربو", "turbo", "توربو شارژر"],

    # سیستم سوخت و هوا
    "هواکش": ["هواکش", "air filter"],
    "منیفولد هوا": ["منیفولد هوا", "intake manifold"],
    "انژکتور": ["انژکتور", "fuel injector"],
    "پمپ بنزین": ["پمپ بنزین", "fuel pump"],
    "منبع سوخت": ["باک سوخت", "fuel tank"],
    "رگولاتور فشار": ["رگولاتور فشار سوخت"],

    # سیستم احتراق
    "شمع": ["شمع", "spark plug"],
    "کوئل": ["کویل", "ignition coil"],
    "پخش‌کننده": ["دیس‌تریبوتور", "distributor"],

    # سیستم خنک‌کننده و روغن
    "رادیاتور": ["رادیاتور"],
    "پمپ آب": ["پمپ آب", "water pump"],
    "ترموستات": ["ترموستات"],
    "فن خنک‌کننده": ["فن خنک‌کننده", "cooling fan"],
    "پمپ روغن": ["پمپ روغن"],
    "فیلتر روغن": ["فیلتر روغن"],

    # سیستم انتقال نیرو
    "گیربکس": ["گیربکس", "transmission"],
    "کلاج": ["کلاج", "clutch"],
    "تورک‌کانورتر": ["تورک کانورتر", "torque converter"],
    "دریو‌شفت": ["دریو شفت", "driveshaft"],
    "دیفرانسیل": ["دیفرانسیل"],
    "محور عقب": ["محور عقب", "rear axle"],
    "محور جلو": ["محور جلو", "front axle"],

    # سیستم تعلیق و فرمان
    "کمک‌فنر": ["کمک‌فنر", "shock absorber"],
    "استرات": ["استرات", "strut"],
    "بازوی کنترل": ["بازوی کنترل", "control arm"],
    "توپی": ["توپی", "hub"],
    "میل تعادل": ["میل تعادل", "anti-roll bar"],
    "فرمان": ["فرمان", "steering wheel"],
    "راک‌پینیون": ["راک پینیون", "rack and pinion"],
    "پمپ فرمان": ["پمپ فرمان", "power steering pump"],

    # سیستم ترمز
    "لنت ترمز": ["لنت ترمز", "brake pad"],
    "دیسک ترمز": ["دیسک ترمز", "rotor"],
    "کالیپر": ["کالیپر", "brake caliper"],
    "مستر سیلندر": ["مستر سیلندر"],
    "سیلندر چرخ": ["سیلندر چرخ", "wheel cylinder"],
    "خط ترمز": ["خط ترمز", "brake line"],
    "ABS": ["ABS", "anti-lock braking system"],

    # اگزوز و نشر گازها
    "منیفولد خروجی": ["منیفولد خروجی", "exhaust manifold"],
    "کاتالیزور": ["کاتالیزور", "catalytic converter"],
    "مخفف صدا": ["مخفف صدا", "muffler"],
    "لوله اگزوز": ["لوله اگزوز", "tailpipe"],
    "سنسور اکسیژن": ["سنسور اکسیژن", "oxygen sensor"],

    # باتری و الکترونیک
    "باطری": ["باطری", "battery"],
    "آلترناتور": ["آلترناتور", "alternator"],
    "استارت": ["استارت", "starter motor"],
    "ECU": ["ECU", "کامپیوتر", "control unit"],
    "سنسورها و سوئیچ‌ها": ["سنسور", "sensor", "سوئیچ", "switch"],
    "دسته سیم": ["دسته سیم", "wiring harness"],
    "فیوز": ["فیوز", "fuse"],

    # بدنه و تجهیزات جانبی
    "بدنه": ["بدنه", "body panel"],
    "گلگیر": ["گلگیر", "fender"],
    "کاپوت": ["کاپوت", "hood"],
    "درب": ["درب", "door"],
    "چراغ جلو": ["چراغ جلو", "headlight"],
    "چراغ عقب": ["چراغ عقب", "taillight"],
    "شیشه": ["شیشه", "glass", "windshield"],
    "جلوپنجره": ["جلوپنجره", "grille"],
    "سپر": ["سپر جلو", "سپر عقب", "bumper"],
    "آینه بغل": ["آینه بغل", "side mirror"],
    "تزئینات": ["تزئینات", "accessory"],
    "رینگ": ["رینگ", "wheel"],
    "لاستیک": ["لاستیک", "تایر", "tyre", "tire"],

    # سیستم تهویه و گرمایش
    "رادیاتور بخاری": ["رادیاتور بخاری", "heater core"],
    "فن تهویه": ["فن تهویه", "blower fan"],
    "کولر": ["کولر", "air conditioning"],
    "ترموستات تهویه": ["ترموستات تهویه", "HVAC thermostat"],

    # مایعات و مصرفی
    "روغن موتور": ["روغن موتور", "engine oil"],
    "روغن گیربکس": ["روغن گیربکس", "transmission oil"],
    "ضد یخ": ["ضد یخ", "antifreeze"],
    "مایع شیشه‌شور": ["شیشه‌شور", "washer fluid"],
    "آب مقطر": ["آب مقطر", "distilled water"],
    "چسب": ["چسب", "adhesive"],
    "اسپری": ["اسپری", "spray"],
    "بوستر ترمز": [
        "بوستر ترمز",
        "بوستر باسیلندر ترمز",
        "مجموعه بوستر",
        "بوستر 9 اینچ"
    ],
    "قفل کمربند ایمنی": [
        "قفل کمربند ایمنی",
        "پریز کمربند ایمنی",
        "پریز کمربند",
        "کمربند ایمنی",
        "قفل کمربند",
        "قفل ایمنی"
    ],
}

CATEGORY_PATHS = {
    # موتور - تجهیزات داخلی
    "موتور": ["لوازم یدکی", "موتور"],
    "بلوک موتور": ["لوازم یدکی", "موتور"],
    "سرسیلندر": ["لوازم یدکی", "موتور"],
    "میل‌لنگ": ["لوازم یدکی", "موتور"],
    "میل‌سوپاپ": ["لوازم یدکی", "موتور"],
    "پیستون": ["لوازم یدکی", "موتور"],
    "رینگ‌پیستون": ["لوازم یدکی", "موتور"],
    "سوپاپ": ["لوازم یدکی", "موتور"],
    "میل تایمینگ": ["لوازم یدکی", "موتور"],
    "کمپرسور توربو": ["لوازم یدکی", "موتور"],

    # گیربکس
    "گیربکس": ["لوازم یدکی", "گیربکس"],
    "کلاج": ["لوازم یدکی", "گیربکس"],
    "تورک‌کانورتر": ["لوازم یدکی", "گیربکس"],
    "دریو‌شفت": ["لوازم یدکی", "گیربکس"],
    "دیفرانسیل": ["لوازم یدکی", "گیربکس"],
    "محور عقب": ["لوازم یدکی", "گیربکس"],
    "محور جلو": ["لوازم یدکی", "گیربکس"],

    # فرمان
    "فرمان": ["لوازم یدکی", "سیستم فرمان"],
    "راک‌پینیون": ["لوازم یدکی", "سیستم فرمان"],
    "پمپ هیدرولیک فرمان": ["لوازم یدکی", "سیستم فرمان"],

    # تعلیق
    "کمک‌فنر": ["لوازم یدکی", "تعلیق", "جلوبندی"],
    "استرات": ["لوازم یدکی", "تعلیق", "جلوبندی"],
    "بازوی کنترل": ["لوازم یدکی", "تعلیق", "جلوبندی"],
    "توپی": ["لوازم یدکی", "تعلیق", "جلوبندی"],
    "میل تعادل": ["لوازم یدکی", "تعلیق", "اکسل"],
    "بوستر ترمز": ["لوازم یدکی", "تعلیق"],
    # الکتریکی
    "باطری": ["لوازم یدکی", "سیستم الکتریکی"],
    "آلترناتور": ["لوازم یدکی", "سیستم الکتریکی"],
    "استارت موتور": ["لوازم یدکی", "سیستم الکتریکی"],
    "ECU": ["لوازم یدکی", "سیستم الکتریکی"],
    "سنسورها و سوئیچ‌ها": ["لوازم یدکی", "سیستم الکتریکی", "سایر"],
    "دسته سیم": ["لوازم یدکی", "سیستم الکتریکی", "دسته سیم"],
    "فیوز": ["لوازم یدکی", "سیستم الکتریکی", "سایر"],
    "چراغ جلو": ["لوازم یدکی", "سیستم الکتریکی", "چراغ ها"],
    "چراغ عقب": ["لوازم یدکی", "سیستم الکتریکی", "چراغ ها"],

    # بدنه
    "قفل کمربند ایمنی": ["لوازم یدکی", "بدنه"],
    "بدنه": ["لوازم یدکی", "بدنه"],
    "گلگیر": ["لوازم یدکی", "بدنه"],
    "کاپوت": ["لوازم یدکی", "بدنه"],
    "درب": ["لوازم یدکی", "بدنه"],
    "شیشه": ["لوازم یدکی", "بدنه"],
    "جلوپنجره": ["لوازم یدکی", "بدنه"],
    "سپر": ["لوازم یدکی", "بدنه"],
    "آینه بغل": ["لوازم یدکی", "بدنه"],

    # اکسسوری
    "تزئینات": ["لوازم یدکی", "اکسسوری"],

    # رینگ و لاستیک
    "رینگ": ["لوازم یدکی", "رینگ و لاستیک", "سایر"],
    "لاستیک": ["لوازم یدکی", "رینگ و لاستیک", "سایر"],

    # پلاستیک و پلیمر
    "پلاستیک بدنه": ["لوازم یدکی", "پلاستیک و پلیمر"],

    # سیالات
    "ضد یخ": ["لوازم یدکی", "سیالات", "ضد خ"],
    "مایع شیشه‌شور": ["لوازم یدکی", "سیالات", "مایع شیشه شور"],
    "آب مقطر": ["لوازم یدکی", "سیالات", "اب مقطر"],

    # تهویه
    "رادیاتور بخاری": ["لوازم یدکی", "سیستم تهویه", "گرمایشی"],
    "فن تهویه": ["لوازم یدکی", "سیستم تهویه", "سرمایشی"],
    "کولر": ["لوازم یدکی", "سیستم تهویه", "سرمایشی"],
    "ترموستات تهویه": ["لوازم یدکی", "سیستم تهویه", "گرمایشی"],

    # شمع
    "شمع": ["لوازم یدکی", "شمع"],

    # روغن موتور
    "روغن موتور": ["لوازم یدکی", "روغن موتور", "برند"],

    # روغن گیربکس
    "روغن گیربکس": ["لوازم یدکی", "روغن گیربکس"],

    # فیلتر
    "فیلتر روغن": ["لوازم یدکی", "فیلتر ها"],

    # مصرفی
    "چسب": ["مصرفی", "چسب"],
    "اسپری": ["مصرفی", "اسپری"],
}